{"meta":{"title":"Cyrus's Blog","subtitle":"迷阵","description":null,"author":"Cyrus","url":"http://yoursite.com"},"pages":[{"title":"Categories","date":"2017-06-21T12:55:51.000Z","updated":"2017-07-23T15:11:14.048Z","comments":true,"path":"categories/index.html","permalink":"http://yoursite.com/categories/index.html","excerpt":"","text":""},{"title":"Tags","date":"2017-06-21T12:55:39.000Z","updated":"2017-07-23T15:11:08.719Z","comments":false,"path":"tags/index.html","permalink":"http://yoursite.com/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"element dialog组件嵌套问题的临时方案","slug":"vue-dialog-nested","date":"2017-06-23T14:09:55.000Z","updated":"2017-07-23T14:30:49.685Z","comments":true,"path":"2017/06/23/vue-dialog-nested/","link":"","permalink":"http://yoursite.com/2017/06/23/vue-dialog-nested/","excerpt":"&emsp;&emsp;最近用 Vue+element 开发项目时，在dialog组件上嵌套使用dialog组件或是MessageBox这类弹框组件，发现会出现遮罩层重合之类的问题，导致很多人只能选择关闭遮罩层。GitHub上就此问题也出现过类似讨论。有几种解决方案：","text":"&emsp;&emsp;最近用 Vue+element 开发项目时，在dialog组件上嵌套使用dialog组件或是MessageBox这类弹框组件，发现会出现遮罩层重合之类的问题，导致很多人只能选择关闭遮罩层。GitHub上就此问题也出现过类似讨论。有几种解决方案： 按照官方所说，将多个dialog类组件全部移动至&lt;body&gt;标签下 Github上某位大牛给出了不完全解决方案，基本思路仍然是将添加在&lt;el-dialog&gt;内的dom结构自动移动至&lt;body&gt;标签下。这个方式测试了下，似乎纯dialog嵌套问题不大，但是如果dialog内部包含了其他组件会有点问题，智者见智，自行探索了 &emsp;&emsp;附上连接 编写自己modal遮罩层，这里给出个不完全临时代码仅供参考 1234567891011121314151617Vue.prototype.$Modal = &#123; open(element) &#123; var index = 1; var wrapper = element.querySelector('.el-dialog__wrapper'); if (wrapper) &#123; index = wrapper.style.zIndex - 1; &#125; var modalDom = document.createElement('div'); modalDom.className = 'v-modal'; element.appendChild(modalDom); modalDom.style.zIndex = index; &#125;, close() &#123; var modal = document.getElementsByClassName('v-modal')[0; modal.parentNode.removeChild(modal); &#125;&#125; &emsp;&emsp;一般调用方法123456789mounted: function () &#123; var that = this; this.$nextTick(function () &#123; //遮罩层 that.$nextTick(function () &#123; that.$Modal.open(that.$el); &#125;); &#125;);&#125;, &emsp;&emsp;主要想法就是在组件mounted完成的nextTick后，为页面中添加一个div，样式就直接采用element自己的了，因为遮罩层是添加在dialog组件下的，因此组件销毁后也会自己销毁，close方法也没用上，但也应该会遇到有用上的时候吧。","categories":[],"tags":[{"name":"FE","slug":"FE","permalink":"http://yoursite.com/tags/FE/"},{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/tags/Vue/"}]}]}